%nav.navbar.navbar-expand-lg.navbar-light.bg-light
  %div.container
    %a.navbar-brand{:href => home_path} Entrepreneurs @ Berkeley
    %button.navbar-toggler{"aria-controls" => "navbarSupportedContent", "aria-expanded" => "false", "aria-label" => "Toggle navigation", "data-target" => "#navbarSupportedContent", "data-toggle" => "collapse", :type => "button"}
      %span.navbar-toggler-icon

    #navbarSupportedContent.collapse.navbar-collapse

      %ul.navbar-nav.mr-auto

        %li.nav-item
          %a.nav-link{:href => teams_path} Teams

        %li.nav-item
          %a.nav-link{:href => users_path, :method => :get} Members

      %ul.navbar-nav.ml-auto

        - if !user_signed_in?
          %li.nav-item
            %a.nav-link{:href => new_user_session_path} Login

          %li.nav-item
            %a.nav-link{:href => new_user_registration_path} Create New Account

        - if user_signed_in?
          %li.nav-item
            %a.nav-link#user-link{:href => user_path(current_user)}
              = image_tag current_user.image.url
              #{current_user.first} #{current_user.last}

          %li.nav-item.dropdown
            %a#navbarDropdown.nav-link.dropdown-toggle{"aria-expanded" => "false", "aria-haspopup" => "true", "data-toggle" => "dropdown", :href => "#", :role => "button"}
              More
            .dropdown-menu.dropdown-menu-right{"aria-labelledby" => "navbarDropdown"}
              %a.dropdown-item{:href => user_path(current_user)} View Profile
              %a.dropdown-item{:href => edit_page_path(current_user)} Edit Profile
              .dropdown-divider
              %a.dropdown-item{:href => destroy_user_session_path, "data-method" => "delete"} Logout

.container-fluid.session-container
  .row
    .col
    .form-wrapper.col-md-5.col-10
      %h2 Create a New Account
      = form_for(resource, as: resource_name, url: registration_path(resource_name), class: %w[form form-inline my-2 my-lg-0]) do |f|
        = render "devise/shared/error_messages", resource: resource

        .container.actions
          .row
            .field.col-6
              = f.label :first_name
              %br/
              = f.text_field :first, :placeholder => "ex. Michael", autofocus: true, class: %w[input form-control session-input]
            .field.col
              = f.label :last_name
              %br/
              = f.text_field :last, :placeholder => "ex. Wu", autofocus: true, class: %w[input form-control session-input]

        .container.actions
          .row
            .field.col-7
              = f.label :email
              %br/
              = f.email_field :email, :placeholder => "ex. michael@berkeley.edu", autofocus: true, autocomplete: "email", class: %w[input form-control session-input]
            .field.col
              = f.label :sid
              %br/
              = f.text_field :sid, :placeholder => "ex. 123456789", autofocus: true, class: %w[input form-control session-input]

        .field
          = f.label :password
          - if @minimum_password_length
            %em
              (#{@minimum_password_length} characters minimum)
          %br/
          = f.password_field :password, autocomplete: "new-password", class: %w[input form-control session-input]
        .field
          = f.label :password_confirmation
          %br/
          = f.password_field :password_confirmation, autocomplete: "new-password", class: %w[input form-control session-input]

        .container.actions
          .row
            .field.col-5
              = f.label :access_code
              %br/
              = f.text_field :code, :placeholder => "Don't share this!", autofocus: true, class: %w[input form-control session-input]

        .container.actions
          .row
            .col-8
              = f.submit "Create Account", class: %w[btn btn-primary]
            .col
              %a{:href => home_path, class: %w[btn btn-light]} Cancel
      = render "users/shared/links"
    .col
